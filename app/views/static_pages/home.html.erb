<%= stylesheet_link_tag 'static_pages' %>
<%= javascript_include_tag 'static_pagesTest' %>
<%= javascript_include_tag 'imageMapResizer.min.js' %>

<% if current_user %>
<center> <h1> Welcome to Room Draw!</h1>
 Select a dorm to see all available rooms in that dorm. </br>
<button onclick="popTable()"> Click here to see all empty rooms </button> </center>

<table id = "dormTable">
<tr>
<th style="text-align: center">Dorm Name</th>
<th style="text-align: center">Number of Empty Rooms</th>
</tr>
<tr>
  <td><%= link_to "Case", "/dormLookup?name=Case"%> </td>
  <td> <% dorm = Dorm.find_by_name("Case") %>
       <%= dorm.unassigned_rooms_number %> </td>
</tr>
<tr>
  <td><%= link_to "Linde", "/dormLookup?name=Linde" %></td>
  <td> <% dorm = Dorm.find_by_name("Linde") %>
       <%= dorm.unassigned_rooms_number %> </td>
</tr>
<tr>
  <td><%= link_to "Sontag", "/dormLookup?name=Sontag" %></td>
  <td> <% dorm = Dorm.find_by_name("Sontag") %>
       <%= dorm.unassigned_rooms_number %> </td>
</tr>
<tr>
  <td><%= link_to "Drinkward", "/dormLookup?name=Drinkward" %></td>
  <td> <% dorm = Dorm.find_by_name("Drinkward") %>
       <%= dorm.unassigned_rooms_number %> </td>
</tr>
<tr>
  <td><%= link_to "Atwood", "/dormLookup?name=Atwood" %></td>
  <td> <% dorm = Dorm.find_by_name("Atwood") %>
       <%= dorm.unassigned_rooms_number %> </td>
</tr>
<tr>
  <td><%= link_to "South", "/dormLookup?name=South" %></td>
  <td> <% dorm = Dorm.find_by_name("South") %>
       <%= dorm.unassigned_rooms_number %> </td>
</tr>
<tr>
  <td><%= link_to "North", "/dormLookup?name=North" %></td>
  <td> <% dorm = Dorm.find_by_name("North") %>
       <%= dorm.unassigned_rooms_number %> </td>
</tr>
<tr>
  <td><%= link_to "East", "/dormLookup?name=East" %></td>
  <td> <% dorm = Dorm.find_by_name("East") %>
       <%= dorm.unassigned_rooms_number %> </td>
</tr>
<tr>
  <td><%= link_to "West", "/dormLookup?name=West" %></td>
  <td> <% dorm = Dorm.find_by_name("West") %>
       <%= dorm.unassigned_rooms_number %> </td>
</tr>
</table>

<img src="/assets/harvey-mudd-college-evacuation-sites-page-001.jpg" alt="" usemap="#Map">
<map name="Map" id="Map">
    <area alt="" title="" href="/dormLookup?name=Case" shape="rect" coords="1082,377,929,516" id="Case" onmouseover="popDorm(event, this);" onmouseout="popDorm(event, this);" 
     />
    <area alt="" title="" id="Linde" href="/dormLookup?name=Linde" shape="rect" coords="1033,368,1154,242" onmouseover="popDorm(event, this);" onmouseout="popDorm(event, this);" />
    <area alt="" title="" id="Drinkward" href="/dormLookup?name=Drinkward" shape="rect" coords="1024,260,870,147" onmouseover="popDorm(event, this);" onmouseout="popDorm(event, this);" />
    <area alt="" title="" id="Sontag" href="/dormLookup?name=Sontag" shape="rect" coords="866,260,749,156" onmouseover="popDorm(event, this);" onmouseout="popDorm(event, this);" />
    <area alt="" title="" id="Atwood" href="/dormLookup?name=Atwood" shape="rect" coords="888,512,744,381"  onmouseover="popDorm(event, this);" onmouseout="popDorm(event, this);" />
    <area alt="" title="" id="North" href="/dormLookup?name=North" shape="rect" coords="541,278,410,156" onmouseover="popDorm(event, this);" onmouseout="popDorm(event, this);" />
    <area alt="" title="" id="East" href="/dormLookup?name=East" shape="rect" coords="541,446,410,329"  onmouseover="popDorm(event, this);" onmouseout="popDorm(event, this);" />
    <area alt="" title="" id="South" href="/dormLookup?name=South" shape="rect" coords="379,269,257,165"  onmouseover="popDorm(event, this);" onmouseout="popDorm(event, this);" />
    <area alt="" title="" id="West" href="/dormLookup?name=West" shape="rect"  coords="379,447,257,339"onmouseover="popDorm(event, this);" onmouseout="popDorm(event, this);" />
</map>




<!-- Hidden popup div goes here
	Shows up when hovering over dorms -->
<div id= "case" class= "dorms">
	There are <% dorm = Dorm.find_by_name("Case") %>
                            <%= dorm.unassigned_rooms_number %> empty rooms in Case. </br>
</div>

<div id= "linde" class = "dorms">
There are <% dorm = Dorm.find_by_name("Linde") %>
                            <%= dorm.unassigned_rooms_number %> empty rooms in Linde. </br>
</div>

<div id= "sontag" class = "dorms">
There are <% dorm = Dorm.find_by_name("Sontag") %>
                            <%= dorm.unassigned_rooms_number %> empty rooms in Sontag. </br>
</div>

<div id= "drinkward" class = "dorms">
There are <% dorm = Dorm.find_by_name("Drinkward") %>
                            <%= dorm.unassigned_rooms_number %> empty rooms in Drinkward. </br>
</div>

<div id= "atwood" class = "dorms">
There are <% dorm = Dorm.find_by_name("Atwood") %>
                            <%= dorm.unassigned_rooms_number %> empty rooms in Atwood. </br>
</div>

<div id= "south" class = "dorms">
There are <% dorm = Dorm.find_by_name("South") %>
                            <%= dorm.unassigned_rooms_number %> empty rooms in South. </br>
</div>
 
<div id= "north" class = "dorms">
There are <% dorm = Dorm.find_by_name("North") %>
                            <%= dorm.unassigned_rooms_number %> empty rooms in North. </br>
</div>

<div id= "east" class = "dorms">
There are <% dorm = Dorm.find_by_name("East") %>
                            <%= dorm.unassigned_rooms_number %> empty rooms in East. </br>
</div>

<div id = "west" class = "dorms">
There are <% dorm = Dorm.find_by_name("West") %>
                            <%= dorm.unassigned_rooms_number %> empty rooms in West. </br>
</div>

&nbsp;
&nbsp;
&nbsp;
&nbsp;

<script type="text/javascript">

    $('map').imageMapResize();

  </script>


<% else %>

<h1 style="text-align: center;">Welcome to Room Draw</h1>

<h2 style="text-align: center;">Instructions:</h2>
<p style="text-align: center;">1) Make sure you are an authenticated User (student).<br/>
   2) Make sure you have filled out the CIS form.<br/>
   3) Login with your HMC Google account.<br/>
   4) Select a room.<br/>
</p>

<% end %>




